{% extends 'template.html.twig' %}
{% block title %}Connection {{ rub.libelle }}{% endblock %}
{% block header %}
    {% embed 'header.html.twig' %}
        {% block connectActive %}active{% endblock %}
    {% endembed %}
{% endblock %}

{% block body %}
{#    {% embed 'header.html.twig' %}#}
{#        {% block connectActive %}active{% endblock %}#}
{#    {% endembed %}#}

    <div class="container mb-4">
        <div class="row justify-content-center">
            <div class="card col-md-5  bg-light shadow">
                <div class="card-block m-3">
                    <h3 class="card-title text-center">Connexion</h3>
                    <hr>
                    <form action="" id="connect" method="post" class="needs-validation" novalidate>
                        {% if session.user %}
                            <div class="alert alert-info" role="alert">
                                <strong>Bonjour {{ session.user }}, vous êtes connecté</strong>
                            </div>
                            <a class="btn btn-danger shadow-sm" href="?action=logoff">Se Déconnecter</a>
                        {% else %}
                            <div class="alert alert-info" role="alert">
                                <strong>Vous n'êtes pas connecté</strong>
                            </div>
{#                        {% if errorPass %}#}
{#                            <div class="alert alert-danger alert-dismissible fade show" role="alert">#}
{#                                <button type="button" class="close" data-dismiss="alert" aria-label="Close">#}
{#                                    <span aria-hidden="true">&times;</span>#}
{#                                </button>#}
{#                                <strong>{{ message }}#}{#Nom d'utilisateur ou mot de passe erroné.#}{#</strong>#}
{#                            </div>#}

{#                            <script>#}
{#                                $(".alert").alert();#}
{#                            </script>#}
{#                        {% endif %}#}
                        {% if message %}
                            <div class="row justify-content-center">
                                <div class="col-md-12">
                                    <div class="alert alert-{{ type }} alert-dismissible fade show" role="alert">
                                        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                                            <span aria-hidden="true">&times;</span>
                                        </button>
                                        <strong>{{ message }}</strong>
                                    </div>
                                </div>
                            </div>
                        {% endif %}

                            <div class="form-group">
                                <label for="name">Nom</label>
                                <input type="text" class="form-control" name="name" id="name" aria-describedby="helpId"
                                       placeholder="" required>
                                <div class="invalid-feedback">
                                    Veuillez saisir votre nom. <br>
                                </div>
                                <div class="alert alert-danger mt-2" style="display: none" id="errNom"></div>
                            </div>
                            <div class="form-group">
                                <label for="pass">Mot de passe</label>
                                <input type="password" class="form-control" name="pass" id="pass" placeholder=""
                                       required>
                                <div class="invalid-feedback">
                                    Veuillez saisir votre mot de passe. <br>
                                </div>
                                <div class="alert alert-danger mt-2" style="display: none" id="errPass"></div>
                            </div>
                            <div class="form-group center">
                                <button type="submit" class="btn btn-primary shadow-sm">Se connecter</button>
                            </div>
                            <a href="?action=reinitialiser">Mot de passe oublié ?</a>
                        <hr>
                            <p>Vous n'avez pas de compte ?</p>
                            <a id="" class="btn btn-success shadow-sm" href="?action=signup" role="button">Créer un
                                compte</a>
                        {% endif %}
                    </form>
                </div>
            </div>
        </div>
    </div>

{% endblock %}
{% block additionnalJS %}
    <script src="js/validationAjout.js"></script>
{% endblock %}
